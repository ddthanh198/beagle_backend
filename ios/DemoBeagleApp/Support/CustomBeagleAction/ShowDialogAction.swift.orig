//
//  ShowDialogAction.swift
//  DemoBeagleApp
//
//  Created by Apple on 4/6/21.
//

import Foundation
import UIKit
import Beagle

class ShowDialogAction: Action {
    
    let endpoint: String
    let numberOfItems: Int?
    let height: Int?
    let width:Int?
    
    init(endpoint: String, numberOfItems: Int?, height: Int?, width: Int?) {
        self.endpoint = endpoint
        self.numberOfItems = numberOfItems
        self.height = height
        self.width = width
    }
    
    func execute(controller: BeagleController, origin: UIView) {
        
        if endpoint == "/widgetController/selectLanguageDialog" {
            let dialogController = DialogLanguageViewController()
            dialogController.numberOfItems = numberOfItems
            dialogController.providesPresentationContextTransitionStyle = true
            dialogController.definesPresentationContext = true
            dialogController.modalPresentationStyle = UIModalPresentationStyle.overCurrentContext
            dialogController.modalTransitionStyle = UIModalTransitionStyle.crossDissolve
            controller.present(dialogController, animated: true, completion: nil)
        }
<<<<<<< HEAD
        else if endpoint == "/widgetController/basicDialog" {
            let dialogCtrl = BasicDialogViewController()
            dialogCtrl.endpoint = self.endpoint
            dialogCtrl.width = self.width
            dialogCtrl.height = self.height
=======
        else {
            let dialogCtrl = BasicDialogViewController()
>>>>>>> master
            dialogCtrl.providesPresentationContextTransitionStyle = true
            dialogCtrl.definesPresentationContext = true
            dialogCtrl.modalPresentationStyle = UIModalPresentationStyle.overCurrentContext
            dialogCtrl.modalTransitionStyle = UIModalTransitionStyle.crossDissolve
            controller.present(dialogCtrl, animated: false, completion: nil)
        }
    }
}
